<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Click Store - Registro de productos</title>
    <!-- CSS Parte Inicio -->
    <link rel="stylesheet" type="text/css" href="js/bootstrap/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="css/font-awesome/css/font-awesome.min.css" />
    <link rel="stylesheet" type="text/css" href="css/stylesheet.css" />
    <link rel="stylesheet" type="text/css" href="css/responsive.css" />
    <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Open+Sans' type='text/css'>
    <!-- CSS Parte Fin -->
</head>
<body>
<div class="wrapper-wide">
    <div id="header">
        <!-- Inicio de la barra superior -->
        <nav id="top" class="htop">
            <div class="container bg-dark">
                <div class="row">
                    <div id="top-links" class="nav pull-right flip">
                        <ul>
                            <li><a href="login.html"><i class="fa fa-sign-in"></i> Iniciar Sesión</a></li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-user-plus"></i> Registro <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    <li><a href="registro-usu.html">Usuario</a></li>
                                    <li><a href="registro-comer.html">Comerciante</a></li>
                                </ul>
                            </li>
                            <li><a href="wishlist.html"><i class="fa fa-heart"></i> Favoritos</a></li>
                            <li><a href="cart.html"><i class="fa fa-shopping-cart"></i> Carrito</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </nav>
        <!-- Barra superior End -->
        <!-- Inicio del encabezado-->
        <header class="header-row">
            <div class="container">
                <div class="table-container">
                    <!-- Logo Start -->
                    <div class="col-table-cell col-lg-6 col-md-6 col-sm-12 col-xs-12 inner">
                        <div id="logo"><a href="index.html"><img class="img-responsive" src="image/logo.png" title="Click Store" alt="Click Store" /></a></div>
                    </div>
                    <!-- Logo End -->
                    <!-- Busqueda Start-->
                    <div class="col-table-cell col-lg-3 col-md-3 col-sm-6 col-xs-12 inner">
                        <div id="search" class="input-group">
                            <input id="filter_name" type="text" name="search" value="" placeholder="Buscar productos" class="form-control input-lg" />
                            <button type="button" class="button-search"><i class="fa fa-search"></i></button>
                        </div>
                    </div>
                    <!-- Busqueda End-->
                </div>
            </div>
        </header>
        <!-- Encabezado End -->
        <!-- Main Menu Start-->
        <div class="container">
            <nav id="menu" class="navbar">
                <div class="navbar-header"> <span class="visible-xs visible-sm"> Menu <b></b></span></div>
                <div class="collapse navbar-collapse navbar-ex1-collapse">
                    <ul class="nav navbar-nav">
                        <li><a class="home_link" title="Home" href="index.html"><span>Home</span></a></li>
                        <li class="mega-menu dropdown"><a>Categorías</a>
                            <div class="dropdown-menu">
                                <div class="column col-lg-2 col-md-3"> 
                                    <!-- Categoria Electrónica-->
                                    <a href="category.html">Electrónica</a>
                                    <div>
                                        <ul>
                                            <li><a href="category.html">Accesorios</a></li>
                                            <li><a href="category.html">Cámaras</a></li>
                                            <li><a href="category.html">Celulares</a></li>
                                            <li><a href="category.html">Tv y Audio</a></li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="column col-lg-2 col-md-3"><a href="category.html">Informática</a>
                                    <div>
                                        <ul>
                                            <li><a href="category.html">Monitores</a></li>
                                            <li><a href="category.html">Notebook</a></li>
                                            <li><a href="category.html">Impresoras</a></li>
                                            <li><a href="category.html">Almacenamiento</a></li>
                                            <li><a href="category.html">Redes e Internet</a></li>
                                            <li><a href="category.html">Gaming</a></li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="column col-lg-2 col-md-3"><a href="category.html">Ropa</a>
                                    <div>
                                        <ul>
                                            <li><a href="category.html">Mujer</a></li>
                                            <li><a href="category.html">Hombre</a></li>
                                            <li><a href="category.html">Bebé</a></li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="column col-lg-2 col-md-3"><a href="category.html">Automóviles</a>
                                    <div>
                                        <ul>
                                            <li><a href="category.html">Neumáticos</a></li>
                                            <li><a href="category.html">Piezas</a></li>
                                            <li><a href="category.html">Sonido y Video</a></li>
                                            <li><a href="category.html">Accesorios</a></li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="column col-lg-2 col-md-3"><a href="category.html">Belleza</a>
                                    <div>
                                        <ul>
                                            <li><a href="category.html">Cosméticos</a></li>
                                            <li><a href="category.html">Perfumes</a></li>
                                            <li><a href="category.html">Cuidado Personal</a></li>
                                            <li><a href="category.html">Skin Care</a></li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="column col-lg-2 col-md-3"><a href="category.html">Salud</a>
                                    <div>
                                        <ul>
                                            <li><a href="category.html">Medicamentos</a></li>
                                            <li><a href="category.html">Vitaminas</a></li>
                                            <li><a href="category.html">Cuidado Personal</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li class="menu_brands dropdown"><a href="#">Tiendas Oficiales</a>
                            <div class="dropdown-menu">
                                <div class="col-lg-1 col-md-2 col-sm-3 col-xs-6"><a href="#"><img src="image/product/apple_logo-60x60.jpg" title="Apple" alt="Apple" /></a><a href="#">Apple</a></div>
                                <div class="col-lg-1 col-md-2 col-sm-3 col-xs-6"><a href="#"><img src="image/product/canon_logo-60x60.jpg" title="Canon" alt="Canon" /></a><a href="#">Canon</a></div>
                                <div class="col-lg-1 col-md-2 col-sm-3 col-xs-6"><a href="#"><img src="image/product/hp_logo-60x60.jpg" title="Hewlett-Packard" alt="Hewlett-Packard" /></a><a href="#">Hewlett-Packard</a></div>
                                <div class="col-lg-1 col-md-2 col-sm-3 col-xs-6"><a href="#"><img src="image/product/htc_logo-60x60.jpg" title="HTC" alt="HTC" /></a><a href="#">HTC</a></div>
                                <div class="col-lg-1 col-md-2 col-sm-3 col-xs-6"><a href="#"><img src="image/product/palm_logo-60x60.jpg" title="Palm" alt="Palm" /></a><a href="#">Palm</a></div>
                                <div class="col-lg-1 col-md-2 col-sm-3 col-xs-6"><a href="#"><img src="image/product/sony_logo-60x60.jpg" title="Sony" alt="Sony" /></a><a href="#">Sony</a></div>
                            </div>
                        </li>
                        <li class="custom-link-right"><a href="#" target="_blank"> ¡Comprar Ahora!</a></li>
                        <li id="productoss-nav" style="display: none;"><a href="productoss.html">Subir Artículo</a></li> <!-- Botón de Subir Artículo -->
                    </ul>
                </div>
            </nav>
        </div>
        <!-- Menú Principal Fin -->
        <!-- Contenedor de la lista de productoss -->
        <div class="container">
            <h1>Registro de productos</h1>
            <form id="registroproductosForm">
                <div class="form-group">
                    <label for="nombre">Nombre del productos:</label>
                    <input type="text" class="form-control" id="nombre" name="nombre" required>
                </div>
                <div class="form-group">
                    <label for="descripcion">Descripción:</label>
                    <textarea class="form-control" id="descripcion" name="descripcion" rows="3" required></textarea>
                </div>
                <div class="form-group">
                    <label for="precio">Precio:</label>
                    <input type="number" class="form-control" id="precio" name="precio" step="0.01" required>
                </div>
                <div class="form-group">
                    <label for="foto_url">URL de la Foto:</label>
                    <input type="url" class="form-control" id="foto_url" name="foto_url" required>
                </div>
                <div class="buttons">
                    <div class="pull-right">
                        <input type="submit" class="btn btn-primary" value="Registrar productos">
                    </div>
                </div>
            </form>
        </div>
        <!-- Contenedor de la lista de productoss Fin -->
        <!-- Pie de Página Inicio -->
        <footer id="footer">
            <div class="fpart-first">
                <div class="container">
                    <div class="row">
                        <div class="contact col-lg-3 col-md-3 col-sm-12 col-xs-12">
                            <h5>Detalles de Contacto</h5>
                            <ul>
                                <li class="address"><i class="fa fa-map-marker"></i>Central Square, 22 Hoi Wing Road, New Delhi, India</li>
                                <li class="mobile"><i class="fa fa-phone"></i>+91 9898777656</li>
                                <li class="email"><i class="fa fa-envelope"></i>Enviar correo a través de nuestro <a href="contact-us.html">Contáctanos</a></li>
                            </ul>
                        </div>
                        <div class="column col-lg-2 col-md-2 col-sm-3 col-xs-12">
                            <h5>Información</h5>
                            <ul>
                                <li><a href="about-us.html">Acerca de Nosotros</a></li>
                                <li><a href="about-us.html">Información de Entrega</a></li>
                                <li><a href="about-us.html">Política de Privacidad</a></li>
                                <li><a href="about-us.html">Términos &amp; Condiciones</a></li>
                            </ul>
                        </div>
                        <div class="column col-lg-2 col-md-2 col-sm-3 col-xs-12">
                            <h5>Servicio al Cliente</h5>
                            <ul>
                                <li><a href="contact-us.html">Contáctanos</a></li>
                                <li><a href="returns.html">Devoluciones</a></li>
                                <li><a href="sitemap.html">Mapa del Sitio</a></li>
                            </ul>
                        </div>
                        <div class="column col-lg-2 col-md-2 col-sm-3 col-xs-12">
                            <h5>Extras</h5>
                            <ul>
                                <li><a href="manufacturer.html">Marcas</a></li>
                                <li><a href="gift-voucher.html">Vales de Regalo</a></li>
                                <li><a href="#">Afiliados</a></li>
                                <li><a href="#">Ofertas Especiales</a></li>
                            </ul>
                        </div>
                        <div class="column col-lg-3 col-md-3 col-sm-3 col-xs-12">
                            <h5>Boletín Informativo</h5>
                            <div class="form-group">
                                <label class="control-label" for="subscribe">Regístrate para recibir las últimas noticias y actualizaciones.</label>
                                <input id="signup" type="email" required="" placeholder="Dirección de correo electrónico" name="email" class="form-control">
                            </div>
                            <input type="submit" value="Suscribirse" class="btn btn-primary">
                        </div>
                    </div>
                </div>
            </div>
            <div class="fpart-second">
                <div class="container">
                    <div id="powered" class="clearfix">
                        <div class="powered_text pull-left flip">
                            <p>Click Store © 2024</p>
                        </div>
                    </div>
                    <div class="bottom-row">
                        <div class="custom-text text-center">
                            <p>Este es un bloque CMS. Puedes insertar cualquier contenido (HTML, Texto, Imágenes) Aquí. Lorem Ipsum es simplemente el texto de relleno de las imprentas y archivos de texto. Lorem Ipsum ha sido el texto de relleno estándar de la industria desde el año 1500, cuando un impresor desconocido usó una galería de textos y los mezcló de tal manera que logró hacer un libro de textos especimen. No sólo sobrevivió 500 años, sino que también ingresó como texto de relleno en documentos electrónicos, sin cambios en su contenido.</p>
                        </div>
                        <div class="payments_types"> <a href="#" target="_blank"> <img data-toggle="tooltip" src="image/payment/payment_american.png" alt="american-express" title="American Express"></a> <a href="#" target="_blank"> <img data-toggle="tooltip" src="image/payment/payment_maestro.png" alt="maestro" title="Maestro"></a> <a href="#" target="_blank"> <img data-toggle="tooltip" src="image/payment/payment_discover.png" alt="discover" title="Discover"></a> <a href="#" target="_blank"> <img data-toggle="tooltip" src="image/payment/payment_mastercard.png" alt="mastercard" title="MasterCard"></a> </div>
                    </div>
                </div>
            </div>
            <div id="back-top"><a data-toggle="tooltip" title="Volver Arriba" href="javascript:void(0)" class="backtotop"><i class="fa fa-chevron-up"></i></a></div>
        </footer>
        <!-- Pie de Página Fin -->
    </div>
    <!-- Parte JS Inicio -->
    <script type="text/javascript" src="js/jquery-2.1.1.min.js"></script>
    <script type="text/javascript" src="js/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/jquery.easing-1.3.min.js"></script>
    <script type="text/javascript" src="js/jquery.dcjqaccordion.min.js"></script>
    <script type="text/javascript" src="js/owl.carousel.min.js"></script>
    <script type="text/javascript" src="js/custom.js"></script>
    <script type="text/javascript" src="js/api.js"></script>
    <!-- Parte JS Fin -->
    <script>
        // Manejar el envío del formulario de registro de productos
        async function registrarproductos(event) {
            event.preventDefault();

            const formData = new FormData(event.target);
            const data = {};
            formData.forEach((value, key) => {
                data[key] = value;
            });

            try {
    const response = await fetch('http://localhost:3000/api/productos', { // Coma añadida aquí
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify(data)
    });

    if (response.ok) {
        alert('Producto registrado exitosamente');
        window.location.href = 'index.html?mensaje=Producto registrado exitosamente';
    } else {
        const errorData = await response.json();
        console.error('Error al registrar producto:', errorData);
        alert('Hubo un error al registrar el producto. Por favor, intente nuevamente.');
    }
} catch (error) {
    console.error('Error al registrar producto:', error);
    alert('Hubo un error al registrar el producto. Por favor, intente nuevamente.');
}

        }

        document.getElementById('registroproductosForm').addEventListener('submit', registrarproductos);
    </script>
</body>
</html>
