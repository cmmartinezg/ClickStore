<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Producto</title>
    <!-- CSS Parte Inicio -->
    <link rel="stylesheet" type="text/css" href="js/bootstrap/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="css/font-awesome/css/font-awesome.min.css" />
    <link rel="stylesheet" type="text/css" href="css/stylesheet.css" />
    <link rel="stylesheet" type="text/css" href="css/owl.carousel.css" />
    <link rel="stylesheet" type="text/css" href="css/owl.transitions.css" />
    <link rel="stylesheet" type="text/css" href="css/responsive.css" />
    <link rel="stylesheet" type="text/css" href="css/estilop.css" />
    <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Open+Sans' type='text/css'>


<style>
.product-info {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    align-items: flex-start;
    padding: 20px 0;
    gap: 20px; /* Espacio entre columnas */
}

.product-info .col-sm-6 {
    flex: 0 0 100%;
    max-width: 100%;
    box-sizing: border-box;
}

@media (min-width: 768px) {
    .product-info .col-sm-6 {
        flex: 0 0 48%;
        max-width: 48%;
    }
}

.image img {
    width: 80%;
    height: auto;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(228, 128, 7, 0.1);
}

/* Descripción del producto */
.description {
    margin-bottom: 20px;
}

.description li {
    font-size: 20px;
    margin-bottom: 10px;
}

.description li span.label {
    display: inline-block;
    padding: 8px 12px;
    font-size: 16px;
    border-radius: 5px;
}


.cart {
    display: flex;
    flex-wrap: wrap; /* Permite que los elementos se ubiquen en nuevas líneas si es necesario */
    align-items: center; /* Centra los elementos verticalmente */
    gap: 20px; /* Ajusta el espacio entre los elementos */
}

.qty {
    display: flex;
    align-items: center;
    margin-bottom: 20px;
}

.qty input {
    text-align: center;
    max-width: 60px;
    margin-right: 10px;
}

.qtyBtn {
    font-size: 18px;
    padding: 5px 10px;
    background-color: #f5f5f5;
    border: 1px solid #ccc;
    cursor: pointer;
}

.cart-buttons {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 10px;
    width: 100%;
}

.wishlist,
.btn-primary,
.btn-buy {
    flex-grow: 1;
    padding: 15px 0;
    background-color: #f7941d;
    border: 2px solid #f7941d;
    color: white;
    text-align: center;
    cursor: pointer;
    transition: background-color 0.3s ease;
    text-decoration: none;
    white-space: nowrap;
    box-sizing: border-box;
    margin-top: 10px;
}

.wishlist:hover,
.btn-primary:hover,
.btn-buy:hover {
    background-color: #ffc107;
}

.wishlist {
    background-color: #f7941d !important;
    border: 2px solid #f7941d !important;
    color: white !important;
    width: 48%;
    cursor: pointer !important;
    transition: background-color 0.3s ease !important;
    padding: 20px 0;
    margin-top: 10px !important;
    font-size: 16px;
    text-decoration: none !important;
}

/* Estilo de los contadores en el encabezado */
#wishlist-count,
#cart-count {
    background-color: #f7941d;
    color: #fff;
    border-radius: 50%;
    padding: 2px 8px;
    font-size: 14px;
    margin-left: 5px;
}

/* Estilos adicionales para el modal */
.modal-body {
    font-size: 16px;
}

.payment-btn {
    margin-bottom: 15px;
}

.payment-form {
    margin-top: 20px;
    display: none;
}

.payment-form.active {
    display: block;
}

.card-icons img {
    width: 50px;
    margin-right: 10px;
    display: inline-block;
}

.hidden {
    display: none;
}

#processing {
    display: none;
    margin-top: 20px;
}

#processing.active {
    display: block;
}

.spinner-border {
    width: 3rem;
    height: 3rem;
    margin-bottom: 10px;
}

.form-group {
    margin-bottom: 15px;
}

.form-control {
    width: 100%;
    padding: 10px;
    font-size: 16px;
    margin-bottom: 10px;
}

/* Estilos para el formulario de calificación */
#ratingForm {
    margin-top: 20px;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    max-width: 200px; /* Limita el ancho del formulario */
}

#ratingForm label {
    margin-bottom: 10px;
    font-size: 16px;
}

#ratingForm select {
    margin-bottom: 20px;
    padding: 8px;
    font-size: 16px;
}

#ratingForm button {
    padding: 10px 20px;
    background-color: #f7941d;
    border: none;
    color: white;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

#ratingForm button:hover {
    background-color: #ffc107;
}

.related_pro {
    margin-top: 40px;
    width: 100%;
}


/* Asegurar que el contenedor principal sea responsivo */
.product-info .col-sm-6 {
    flex: 0 0 100%;
    max-width: 100%;
}
/* Asegura que esté alineado a la izquierda la imagen del producto  */
@media (min-width: 768px) {
    .product-info .col-sm-6 {
        flex: 0 0 48%;
        max-width: 48%;
    }

    #ratingForm {
        align-items: flex-start; /* Asegura que esté alineado a la izquierda */
    }
}/* Contenedor general para la sección de recomendaciones */
#recomendaciones-wrapper {
    background: #f7941d; /* Fondo color naranja */
    width: 100%; /* Ocupa el ancho completo de la página */
    display: flex;
    justify-content: center; /* Centrar el contenedor */
    padding: 40px 0; /* Espaciado superior e inferior */
}

/* Contenedor interno que contiene los productos */
#recomendaciones-container {
    width: 80%; /* Ajustar el ancho del contenedor */
    max-width: 1200px; /* Máximo ancho */
    display: flex;
    justify-content: center;
    background: white; /* Fondo blanco */
    padding: 20px;
    border-radius: 10px; /* Bordes redondeados */
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); /* Sombra */
}

/* Contenedor de los productos alineados en fila */
.productos-container {
    display: flex;
    flex-direction: row; /* Alinea los productos en fila */
    justify-content: center; /* Centra los productos dentro del contenedor */
    align-items: center; /* Alinea verticalmente los productos */
    gap: 20px; /* Espacio entre las tarjetas */
    flex-wrap: nowrap; /* Evita que los productos se muevan a nuevas filas */
}

/* Estilos para cada tarjeta de producto */
.producto {
    width: 220px;
    height: 370px;
    text-align: center;
    border: 1px solid #ddd;
    border-radius: 10px;
    background-color: #fff;
    padding: 20px;
    margin: 10px;
    transition: transform 0.3s, box-shadow 0.3s;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    display: flex;
    flex-direction: column;
    justify-content: space-between; /* Espaciado vertical entre elementos */
    flex: 0 0 auto; /* Evita que se reduzca el tamaño de las tarjetas */
}

/* Estilo para las imágenes de los productos */
.producto img {
    width: 100%;
    height: 180px;
    object-fit: cover;
    border-radius: 10px;
    margin-bottom: 10px;
}

/* Estilo para el título del producto */
.producto h3 {
    font-size: 18px;
    color: #333;
    margin: 10px 0;
}

/* Descripción del producto */
.producto p {
    margin: 5px 0;
    font-size: 14px;
    color: #666;
}

/* Precio del producto */
.producto .precio {
    font-size: 18px;
    font-weight: bold;
    color: #28a745;
}

/* Botón "Ver detalles" */
.producto .ver-mas {
    display: block;
    margin-top: 15px;
    padding: 10px 20px;
    background-color: #008cba;
    color: white;
    text-decoration: none;
    border-radius: 5px;
    font-size: 16px;
    transition: background-color 0.3s ease;
}

.producto .ver-mas:hover {
    background-color: #005f7f;
}

  .qty-container, .rating-container {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 20px;
    }

    .qty-container label, .rating-container label {
        font-weight: bold;
        margin-right: 10px;
        font-size: 18px;
    }

    .input-quantity {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .qtyBtn {
        background-color: #ddd;
        border: none;
        font-size: 18px;
        padding: 8px 15px;
        cursor: pointer;
        border-radius: 5px;
        margin: 0;
    }

    .qtyBtn:hover {
        background-color: #ccc;
    }

    #input-quantity {
        width: 50px;
        text-align: center;
        border: 1px solid #ddd;
        border-radius: 5px;
        margin: 0 5px;
    }

    /* Estilo para el formulario de calificación */
    #rating {
        height: 36px;
        padding: 5px 10px;
        border-radius: 5px;
        border: 1px solid #ddd;
        font-size: 16px;
    }

    #ratingForm button {
        padding: 10px 20px;
        background-color: #f7941d;
        border: none;
        color: white;
        cursor: pointer;
        transition: background-color 0.3s ease;
        font-size: 16px;
        border-radius: 5px;
        margin-left: 10px;
    }

    #ratingForm button:hover {
        background-color: #ff9f07;
    }

    /* Contenedor de cantidad */
.qty-container {
    margin-top: 20px;
    display: flex;
    align-items: center;
}

.qty-container label {
    font-size: 20px;
    margin-right: 10px;
    font-weight: bold;
}

.input-quantity {
    display: flex;
    align-items: center;
}

.qtyBtn {
    background-color: #ddd;
    border: none;
    font-size: 16px;
    padding: 10px 15px;
    cursor: pointer;
    border-radius: 5px;
}


/* Estilo y alineación de botones */
.cart-buttons-container {
    align-items: center;
    gap: 20px;
    margin-top: 80px;
    
}

.wishlist-btn {
    font-size: 32px;
    background: none;
    margin-right: 30px;
    border: none;
    color: #f7941d;
    cursor: pointer;
}

.wishlist-btn:hover {
    color: #ff4500;
}

.btn-cart,
.btn-buy {
    padding: 15px 30px;
    font-size: 18px;
    font-weight: bold;
    border-radius: 5px;
    cursor: pointer;
    transition: 0.3s ease-in-out;
   
}

/* Estilo para botón de AÑADIR AL CARRITO */
.btn-cart {
    background-color: #ffc107;
    border: none;
    color: #000;
    margin-right: 15px;
}

.btn-cart:hover {
    background-color: #ff9f07;
}

/* Estilo para botón de COMPRAR AHORA */
.btn-buy {
    background-color: #ffc107;
    border: none;
    color: #000;
}

.btn-buy:hover {
    background-color: #ff9f07;
}

    /* Estilo para el texto de Disponibilidad */
    .label-success {
        background-color: #28a745 !important;
        color: #fff !important;
        padding: 5px 10px;
        font-size: 16px;
        border-radius: 5px;
    }

    /* Alineación del título de productos recomendados */
    .section-title {
        text-align: left;
        margin: 30px 0 10px 0;
        font-size: 24px;
        font-weight: bold;
    }

    #recomendaciones-wrapper {
        background: none;
        margin: 20px 0;
    }

    </style>
</head>
<body class="amazon-style">
    <div class="wrapper-wide">
        <!-- Inicio del encabezado -->
        <header class="header">
            <div class="logo">
                <a href="index.html"><img class="img-responsive" src="image/logo.png" title="Click Store" alt="Click Store" /></a>
            </div>

            <div class="nav-links">
                <a href="wishlist.html"><i class="fa fa-heart"></i>Favoritos<span id="wishlist-count">0</span></a>
                <a href="cart.html"><i class="fa fa-shopping-cart"></i>Carrito<span id="cart-count">0</span></a>
            </div>
        </header>
        <!-- Encabezado End -->

        <div id="container">
            <div class="container">
                <ul class="breadcrumb">
                    <li><a href="index.html"><i class="fa fa-home"></i></a></li>
                    <li><a>Electronica</a></li>
                    <li><a>Producto</a></li>
                </ul>

                        <div class="row">
                            <div id="content" class="col-sm-12">
                                <h1 id="product-title" class="title">Product</h1>
                                <div class="row product-info">
                                    <!-- Imagen del producto -->
                                    <div class="col-sm-6">
                                        <div class="image">
                                            <img id="product-image" class="img-responsive" src="image/no_image.png" alt="Product Image" />
                                        </div>
                                    </div>
                
                                    <!-- Información del producto -->
                                    <div class="col-sm-6">
                                        <ul class="list-unstyled description">
                                            <li style="font-size: 20px;"><b>Nombre del Producto:</b> <span id="product-name">Product</span></li>
                                            <li style="font-size: 20px;"><b>Precio:</b> <span id="product-price">$0.00</span></li>
                                            <li style="font-size: 20px;"><b>Descripción:</b> <span id="product-description">N/A</span></li>
                                            <li style="font-size: 20px; margin-bottom: 20px;">
                                                <b>Disponibilidad:</b> 
                                                <span id="product-availability" class="label label-success">En stock</span>
                                            </li>
                                        </ul>
                
                                        <!-- Contenedor de Cantidad -->
                                        <div class="qty-container">
                                            <label for="input-quantity" style="font-size: 20px;"><b>Cantidad:</b></label>
                                            <div class="input-quantity">
                                                <button class="qtyBtn mines">-</button>
                                                <input type="text" value="1" id="input-quantity">
                                                <button class="qtyBtn plus">+</button>
                                            </div>
                                        </div>
                
                                        <!-- Botones de Acción -->
                                        <div class="cart-buttons-container">
                                            <button id="button-cart" class="btn-cart">AÑADIR AL CARRITO</button>
                                            <button id="wishlist-button" class="wishlist-btn"><i class="fa fa-heart" aria-hidden="true"></i></button>
                                            <button id="button-buy" class="btn-buy">COMPRAR AHORA</button>
                                           
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                

                        <!-- Sección de Productos Recomendados -->
                        <h2 class="section-title">Productos Recomendados</h2>
                        <div id="recomendaciones-wrapper">
                            <div id="recomendaciones-container">
                                <div id="productos-recomendados" class="productos-container">
                                    <!-- Aquí se cargarán las tarjetas de productos recomendados -->
                                </div>
                            </div>
                        </div>

                        <!-- Contenedor de Opiniones de Clientes -->
                        <h3 class="section-title">Opiniones de Clientes</h3>
                        <form id="ratingForm" class="rating-container">
                            <label for="rating">Califica este producto:</label>
                            <select name="rating" id="rating">
                                <option value="1">1 estrella</option>
                                <option value="2">2 estrellas</option>
                                <option value="3">3 estrellas</option>
                                <option value="4">4 estrellas</option>
                                <option value="5">5 estrellas</option>
                            </select>
                            <button type="button" onclick="submitRating()">Enviar</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

            <!-- Modal de compra -->
            <div class="modal fade" id="buyModal" tabindex="-1" role="dialog" aria-labelledby="buyModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="buyModalLabel">Completar Compra</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <h6>Seleccione el método de pago:</h6>
                            <button type="button" class="btn btn-primary payment-btn" id="payWithCard">Tarjeta de Crédito/Débito</button>
                            <button type="button" class="btn btn-primary payment-btn" id="payWithEfectivo">Efectivo</button>
                            <button type="button" class="btn btn-primary payment-btn" id="payWithTransferencia">Transferencia Bancaria</button>

                            <!-- Formulario para Tarjeta -->
                            <div id="cardForm" class="payment-form">
                                <h6>Pago con Tarjeta:</h6>
                                <div class="form-group">
                                    <label for="cardNumber">Número de Tarjeta:</label>
                                    <input type="text" id="cardNumber" class="form-control" placeholder="Número de Tarjeta" maxlength="19">
                                    <div class="card-icons">
                                        <img id="visaIcon" class="hidden" src="https://img.icons8.com/color/48/000000/visa.png" />
                                        <img id="mastercardIcon" class="hidden" src="https://img.icons8.com/color/48/000000/mastercard.png" />
                                        <img id="amexIcon" class="hidden" src="https://img.icons8.com/color/48/000000/amex.png" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="cardExpiry">Fecha de Expiración:</label>
                                    <input type="text" id="cardExpiry" class="form-control" placeholder="MM/AA">
                                </div>
                                <div class="form-group">
                                    <label for="cardCVC">CVC:</label>
                                    <input type="text" id="cardCVC" class="form-control" placeholder="CVC">
                                </div>
                                <button type="button" class="btn btn-success btn-block" id="confirmTarjeta">Confirmar Pago</button>
                            </div>

                            <!-- Información para Efectivo -->
                            <div id="efectivoForm" class="payment-form">
                                <h6>Pago en Efectivo:</h6>
                                <p>Por favor, acérquese a cualquiera de nuestras tiendas físicas para realizar el pago.</p>
                                <button type="button" class="btn btn-success btn-block" id="confirmEfectivo">Confirmar Pago</button>
                            </div>

                            <!-- Información para Transferencia -->
                            <div id="transferenciaForm" class="payment-form">
                                <h6>Pago por Transferencia Bancaria:</h6>
                                <p>Realice la transferencia a la siguiente cuenta:</p>
                                <ul>
                                    <li><b>Banco:</b> Banco XYZ</li>
                                    <li><b>Número de Cuenta:</b> 123456789</li>
                                    <li><b>Nombre del Titular:</b> Click Store</li>
                                    <li><b>Concepto:</b> Compra #<span id="orderNumber">12345</span></li>
                                </ul>
                                <button type="button" class="btn btn-success btn-block" id="confirmTransferencia">Confirmar Pago</button>
                            </div>

                            <!-- Animación de Procesamiento -->
                            <div id="processing" class="text-center">
                                <div class="spinner-border text-primary" role="status">
                                    <span class="sr-only">Procesando...</span>
                                </div>
                                <p>Procesando su pago, por favor espere...</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!--Footer Inicio-->
        <footer id="footer">
            <!-- Aquí va el contenido del footer -->
        </footer>
        <!--Footer Fin-->
    </div>
    <!-- JS Parte Inicio -->
    <script type="text/javascript" src="js/jquery-2.1.1.min.js"></script>
    <script type="text/javascript" src="js/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/custom.js"></script>
    <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', function () {
            const params = new URLSearchParams(window.location.search);
            const productId = params.get('id');

            if (productId) {
                fetch(`http://localhost:3000/api/productos/${productId}`)
                    .then(response => response.json())
                    .then(data => {
                        document.getElementById('product-title').textContent = data.nombre;
                        document.getElementById('product-image').src = data.foto_url;
                        document.getElementById('product-name').textContent = data.nombre;
                        document.getElementById('product-price').textContent = `₲${Number(data.precio).toLocaleString('es-PY')}`;
                        document.getElementById('product-description').textContent = data.descripcion || 'N/A';
                        document.getElementById('product-availability').textContent = data.disponibilidad ? 'In Stock' : 'Out of Stock';
                        document.getElementById('product-availability').className = data.disponibilidad ? 'label label-success' : 'label label-danger';
                    })
                    .catch(err => console.error('Error fetching product:', err));
            }

            // Botón Comprar Ahora
            document.getElementById('button-buy').addEventListener('click', function () {
                $('#buyModal').modal('show');
            });

            // Mostrar el formulario correcto según el método de pago seleccionado
            document.getElementById('payWithCard').addEventListener('click', function () {
                document.getElementById('cardForm').classList.add('active');
                document.getElementById('efectivoForm').classList.remove('active');
                document.getElementById('transferenciaForm').classList.remove('active');
            });

            document.getElementById('payWithEfectivo').addEventListener('click', function () {
                document.getElementById('efectivoForm').classList.add('active');
                document.getElementById('cardForm').classList.remove('active');
                document.getElementById('transferenciaForm').classList.remove('active');
            });

            document.getElementById('payWithTransferencia').addEventListener('click', function () {
                document.getElementById('transferenciaForm').classList.add('active');
                document.getElementById('cardForm').classList.remove('active');
                document.getElementById('efectivoForm').classList.remove('active');
            });

            // Detectar tipo de tarjeta
            document.getElementById('cardNumber').addEventListener('input', function (e) {
                const cardNumber = e.target.value.replace(/\s+/g, '');

                // Ocultar todos los íconos
                document.querySelectorAll('.card-icons img').forEach(img => img.classList.add('hidden'));

                // Detectar tipo de tarjeta
                const visa = /^4[0-9]{12}(?:[0-9]{3})?$/;
                const mastercard = /^5[1-5][0-9]{14}$/;
                const amex = /^3[47][0-9]{13}$/;

                if (visa.test(cardNumber)) {
                    document.getElementById('visaIcon').classList.remove('hidden');
                } else if (mastercard.test(cardNumber)) {
                    document.getElementById('mastercardIcon').classList.remove('hidden');
                } else if (amex.test(cardNumber)) {
                    document.getElementById('amexIcon').classList.remove('hidden');
                }
            });

            // Simulación de pago
            const processPayment = (method) => {
                document.querySelectorAll('.payment-form').forEach(form => form.classList.add('hidden'));
                document.getElementById('processing').classList.add('active');

                setTimeout(() => {
                    document.getElementById('processing').classList.remove('active');
                    $('#buyModal').modal('hide');
                    alert(`Pago con ${method} procesado exitosamente!`);
                }, 3000);
            };

            document.getElementById('confirmTarjeta').addEventListener('click', () => processPayment('Tarjeta'));
            document.getElementById('confirmEfectivo').addEventListener('click', () => processPayment('Efectivo'));
            document.getElementById('confirmTransferencia').addEventListener('click', () => processPayment('Transferencia'));
        });

        document.addEventListener('DOMContentLoaded', function () {
            let cartCount = 0;
            let wishlistCount = 0;

            document.getElementById('button-cart').addEventListener('click', function () {
                let quantity = parseInt(document.getElementById('input-quantity').value, 10);
                cartCount += quantity;
                document.getElementById('cart-count').textContent = cartCount;
                alert('Producto añadido al carrito.');
            });

            document.getElementById('button-wishlist').addEventListener('click', function () {
                wishlistCount++;
                document.getElementById('wishlist-count').textContent = wishlistCount;
                alert('Producto añadido a la lista de deseos.');
            });

            document.querySelector('.qtyBtn.plus').addEventListener('click', function () {
                let input = document.getElementById('input-quantity');
                input.value = parseInt(input.value, 10) + 1;
            });

            document.querySelector('.qtyBtn.mines').addEventListener('click', function () {
                let input = document.getElementById('input-quantity');
                if (parseInt(input.value, 10) > 1) {
                    input.value = parseInt(input.value, 10) - 1;
                }
            });
        });
        document.addEventListener('DOMContentLoaded', () => {
    const params = new URLSearchParams(window.location.search);
    const productId = params.get('id');

    // Verifica si el ID del producto es válido
    if (productId) {
        console.log(`ID del producto actual: ${productId}`);
        obtenerRecomendaciones(productId);
    } else {
        console.error('No se encontró el ID del producto en la URL.');
    }
});

// Función para obtener recomendaciones desde la API correcta
function obtenerRecomendaciones(idProducto) {
    console.log(`Intentando obtener recomendaciones para el producto con ID: ${idProducto}`);

    // URL de la API Flask que devuelve las recomendaciones
    const backendURL = `http://127.0.0.1:5001/recomendaciones_knn/${idProducto}`;

    fetch(backendURL)
        .then(response => {
            console.log(`Respuesta de la API recibida: ${response.status}`);
            if (!response.ok) {
                throw new Error(`Error en la API: ${response.statusText}`);
            }
            return response.json();
        })
        .then(recomendaciones => {
            console.log('Recomendaciones obtenidas:', recomendaciones);
            mostrarRecomendaciones(recomendaciones);
        })
        .catch(error => {
            console.error('Error al cargar las recomendaciones:', error);
        });
}
function mostrarRecomendaciones(recomendaciones) {
    const contenedorRecomendaciones = document.getElementById('productos-recomendados');

    // Asegurarse de que el contenedor exista
    if (!contenedorRecomendaciones) {
        console.error('El contenedor de recomendaciones no se encontró en el DOM.');
        return;
    }

    // Limpiar cualquier contenido anterior
    contenedorRecomendaciones.innerHTML = '';

    // Crear tarjetas de productos recomendados y agregarlas al contenedor
    recomendaciones.forEach(producto => {
        const tarjetaProducto = document.createElement('div');
        tarjetaProducto.classList.add('producto');

        // Añadir contenido a la tarjeta de producto
        tarjetaProducto.innerHTML = `
            <img src="${producto.foto_url}" alt="${producto.nombre}" class="producto-imagen" />
            <h3>${producto.nombre}</h3>
            <p>${producto.descripcion || 'Descripción no disponible'}</p>
            <p class="precio">₲${Number(producto.precio).toLocaleString('es-PY')}</p>
            <a href="product.html?id=${producto.id}" class="ver-mas">Ver detalles</a>
        `;

        // Agregar la tarjeta de producto al contenedor de recomendaciones
        contenedorRecomendaciones.appendChild(tarjetaProducto);
    });

    console.log(`Se mostraron ${recomendaciones.length} productos recomendados.`);
}
document.addEventListener('DOMContentLoaded', function () {
            let cartCount = 0;
            let wishlistCount = 0;

            // Botón "Añadir al Carrito"
            document.getElementById('button-cart').addEventListener('click', function () {
                let quantity = parseInt(document.getElementById('input-quantity').value, 10);
                cartCount += quantity;
                alert('Producto añadido al carrito.');
                console.log(`Productos en el carrito: ${cartCount}`);
            });

            // Botón "Lista de Deseos"
            document.getElementById('wishlist-button').addEventListener('click', function () {
                wishlistCount++;
                document.getElementById('wishlist-count').textContent = wishlistCount;
                alert('Producto añadido a la lista de deseos.');
            });

            // Incrementar cantidad
            document.querySelector('.qtyBtn.plus').addEventListener('click', function () {
                let input = document.getElementById('input-quantity');
                input.value = parseInt(input.value, 10) + 1;
            });

            // Disminuir cantidad
            document.querySelector('.qtyBtn.mines').addEventListener('click', function () {
                let input = document.getElementById('input-quantity');
                if (parseInt(input.value, 10) > 1) {
                    input.value = parseInt(input.value, 10) - 1;
                }
            });
        });

        function submitRating() {
            const rating = document.getElementById('rating').value;
            alert(`Gracias por calificar con ${rating} estrella(s).`);
        }
    </script>
    </script>
    <!-- JS Parte Fin -->
</body>

</html>
